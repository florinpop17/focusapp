---
import Timer from "@components/Timer.astro";
import Layout from "../layouts/Layout.astro";
const { user } = Astro.locals;
---

<Layout title="Welcome to Astro.">
    <main class="">
        <h1>Home Page</h1>
        <p>Welcome to Astro, {user?.email || "not-logged-in"}! You are on plan: {user?.plan}</p>
        {
            user ? (
                <form method="post" action="/api/auth/logout">
                    <button>Logout</button>
                </form>
            ) : (
                <a href="/login">Login</a>
            )
        }
        <a href="/pricing">Pricing</a>
        <Timer />
    </main>
</Layout>
